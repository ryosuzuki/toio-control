<!DOCTYPE html>
<head>
  <title>GCode Preview - Preview a 3d print from a gcode file</title>
  <link rel="stylesheet" href="style.css" />
</head>

<body>
  <div class="dnd">☝️ Drop a gcode file here to view it</div>
  <div class="version-box"><a href="https://www.npmjs.com/package/gcode-preview">
    <img src="https://img.shields.io/npm/v/gcode-preview.svg?style=flat"/>
  </a></div>
  <div class="sidebar">
    <div>
      <h1>GCode Preview</h1>
      <h2 class="description">Preview a 3d print from a gcode file</h2>
      <br>
      <section>
        <div><span id="layer-count"></span> / <span id="file-size"></span></div>
      </section>
      <section>
        <div class="controls">
          <label>End layer</label>&nbsp;<input
            type="range"
            min="1"
            value="0"
            id="end-layer"
          />
        </div>
        <div class="controls">
          <label>Start layer</label>&nbsp;<input
            type="range"
            min="1"
            value="0"
            id="start-layer"
          />
        </div>
        <div class="controls">
          <label for="single-layer-mode">Single layer mode</label
          ><input type="checkbox" id="single-layer-mode" />
        </div>
        <div class="controls">
          <label for="extrusion">Extrusion</label
          ><input type="checkbox" id="extrusion" />
        </div>
        <div class="controls">
          <label for="travel">Travel</label
          ><input type="checkbox" id="travel" />
        </div>
        <div class="controls">
          <label for="highlight">Highlight top layer</label
          ><input type="checkbox" id="highlight" />
        </div>
      </section>
      <section>
        <div  class="controls">
          <label for="drawBuildVolume">Draw build volume</label
          ><input type="checkbox" id="drawBuildVolume" checked />
        </div>
        <div class="controls">
          <label for="buildVolumeX">Build volume (x)</label
          ><input type="number" id="buildVolumeX" step=10 value=150 />
        </div>
        <div  class="controls">
          <label for="buildVolumeY">Build volume (y)</label
          ><input type="number" id="buildVolumeY" step=10 value=150 />
        </div>
        <div  class="controls">
          <label for="buildVolumeZ">Build volume (z)</label
          ><input type="number" id="buildVolumeZ" step=10 value=150 />
        </div>

      </section>
      <!-- <section class="experimental">
        <h4>experimental</h4>
        <div class="controls">
          <label for="lineWidth">Line width</label>
          <input id="line-width" type="range" min="0" max="10" step="1" value="2" />
        </div>
      </section> -->
    </div>
  </div>

  <canvas id="renderer" class="gcode-previewer"></canvas>
  <script src="https://cdnjs.cloudflare.com/ajax/libs/three.js/r128/three.js"></script>
  <script src="OrbitControls.js"></script>
  <script src="gcode-preview.js"></script>
  <script src="toio-simulator.js"></script>
  <script>
    const gcodeDemo = initDemo();
    loadGCodeFromServer('benchy.gcode');

  </script>
</body>